
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Prompt Design Lab – Full Prompt Builder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root {
      --blue:#13294B;
      --orange:#E84A27;
      --light:#f3f4f6;
    }
    * { box-sizing:border-box; }
    body {
      font-family:system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      margin:0;
      background:var(--light);
      color:#111827;
    }
    header {
      background:linear-gradient(135deg,var(--blue),#1f3f73);
      padding:1.4rem 1.6rem;
      color:white;
    }
    .pill {
      padding:.2rem .6rem;
      background:var(--orange);
      border-radius:999px;
      font-size:.75rem;
      letter-spacing:.06em;
      text-transform:uppercase;
      display:inline-block;
      margin-bottom:.3rem;
    }
    header h1 {
      margin:0 0 .3rem;
      font-size:1.55rem;
    }
    header p {
      margin:0;
      font-size:.9rem;
      opacity:.95;
    }
    main {
      max-width:1120px;
      margin:1.5rem auto 2.5rem;
      background:white;
      padding:1.6rem 1.8rem;
      border-radius:12px;
      box-shadow:0 10px 25px rgba(15,23,42,0.1);
    }
    h2 {
      margin-top:0;
      color:var(--blue);
      font-size:1.15rem;
    }
    .layout {
      display:grid;
      grid-template-columns:minmax(0,1.25fr) minmax(0,1.35fr);
      gap:1.5rem;
      margin-top:1.2rem;
    }
    @media(max-width:900px){
      .layout { grid-template-columns:minmax(0,1fr); }
    }
    .panel {
      border-radius:10px;
      border:1px solid #e5e7eb;
      background:#f9fafb;
      padding:1rem 1.1rem;
    }
    .panel h3 {
      margin:0 0 .4rem;
      font-size:1rem;
      color:var(--blue);
    }
    .hint {
      font-size:.8rem;
      color:#6b7280;
      margin-top:.2rem;
      margin-bottom:.4rem;
    }
    .columns {
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
      gap:.8rem;
      margin-top:.5rem;
    }
    .dropzone {
      background:#fff;
      border:2px dashed #d1d5db;
      padding:.6rem;
      border-radius:10px;
      min-height:120px;
    }
    .dropzone.over {
      background:#fff7f3;
      border-color:var(--orange);
    }
    .dropzone h4 {
      margin:0 0 .25rem;
      font-size:.9rem;
      color:var(--blue);
    }
    .dropzone p {
      margin:0;
      font-size:.8rem;
      color:#6b7280;
    }
    #pool {
      margin-top:1rem;
    }
    #pool h4 {
      margin:0 0 .35rem;
      font-size:.9rem;
      color:var(--blue);
    }
    .card {
      background:#fff;
      border:1px solid #d1d5db;
      border-radius:8px;
      padding:.45rem .6rem;
      margin-bottom:.35rem;
      cursor:grab;
      font-size:.85rem;
      box-shadow:0 2px 4px rgba(15,23,42,0.05);
    }
    .card.dragging {
      opacity:.6;
    }
    .btnrow {
      margin-top:.8rem;
      display:flex;
      flex-wrap:wrap;
      gap:.4rem;
    }
    button {
      border-radius:999px;
      padding:.4rem .95rem;
      border:none;
      font-size:.85rem;
      cursor:pointer;
      font-family:inherit;
    }
    .btn-primary { background:var(--blue); color:white; }
    .btn-secondary { background:#e5e7eb; color:#111827; }
    .controls-grid {
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
      gap:.8rem;
      margin-top:.5rem;
    }
    .field-group {
      font-size:.86rem;
    }
    .field-group label {
      display:block;
      font-weight:600;
      margin-bottom:.15rem;
      color:#374151;
      font-size:.82rem;
    }
    select {
      width:100%;
      padding:.35rem .45rem;
      border-radius:8px;
      border:1px solid #d1d5db;
      font-size:.9rem;
      background:white;
    }
    .small-label {
      font-size:.78rem;
      color:#6b7280;
      margin-top:.1rem;
    }
    .range-row {
      display:flex;
      align-items:center;
      gap:.5rem;
    }
    input[type="range"] {
      -webkit-appearance:none;
      appearance:none;
      height:4px;
      border-radius:999px;
      background:#d1d5db;
      flex:1;
    }
    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance:none;
      width:16px;
      height:16px;
      border-radius:50%;
      background:var(--blue);
      cursor:pointer;
    }
    input[type="range"]::-moz-range-thumb {
      width:16px;
      height:16px;
      border-radius:50%;
      background:var(--blue);
      cursor:pointer;
    }
    .toggle-list {
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
      gap:.3rem .7rem;
      margin-top:.3rem;
    }
    .toggle-item {
      display:flex;
      align-items:flex-start;
      gap:.4rem;
      font-size:.86rem;
    }
    .toggle-item input {
      margin-top:.15rem;
    }
    .output-header {
      display:flex;
      justify-content:space-between;
      align-items:baseline;
      gap:.5rem;
      flex-wrap:wrap;
    }
    .badge {
      padding:.15rem .5rem;
      border-radius:999px;
      background:#e5e7eb;
      font-size:.75rem;
      text-transform:uppercase;
      letter-spacing:.06em;
      color:#374151;
    }
    textarea {
      width:100%;
      min-height:240px;
      margin-top:.6rem;
      border-radius:8px;
      border:1px solid #d1d5db;
      padding:.6rem;
      font-family:"SF Mono",ui-monospace,Menlo,Consolas,monospace;
      font-size:.82rem;
      white-space:pre-wrap;
    }
    .note {
      font-size:.8rem;
      color:#6b7280;
      margin-top:.4rem;
    }
    .tag-row {
      margin-top:.4rem;
      font-size:.78rem;
      color:#6b7280;
    }
    .tag-row span {
      display:inline-block;
      padding:.15rem .45rem;
      border-radius:999px;
      border:1px solid #d1d5db;
      margin-right:.25rem;
      margin-bottom:.15rem;
    }
  </style>
</head>
<body>
<header>
  <div class="pill">Prompt Design Lab</div>
  <h1>Full Prompt Builder: Structure + Settings</h1>
  <p>Drag key ideas into prompt sections on the left, then tune task type, format, audience, tone, and temperature on the right.</p>
</header>
<main>
  <h2>1. Structure the meaning · 2. Configure behavior · 3. Copy into ChatGPT</h2>
  <div class="layout">
    <!-- Left: conceptual structure -->
    <div class="panel">
      <h3>Step 1 · Arrange the core ideas</h3>
      <p class="hint">Drag cards into the section where they belong. This shapes <strong>what</strong> the model should care about.</p>

      <div class="columns">
        <div class="dropzone" data-zone="goal">
          <h4>Task & goal</h4>
          <p>What outcome you want from the model.</p>
        </div>
        <div class="dropzone" data-zone="context">
          <h4>Audience & context</h4>
          <p>Who this is for and what they know.</p>
        </div>
        <div class="dropzone" data-zone="inputs">
          <h4>Inputs & sources</h4>
          <p>What the AI is allowed to use.</p>
        </div>
        <div class="dropzone" data-zone="boundaries">
          <h4>Boundaries & avoid</h4>
          <p>What to constrain or stay away from.</p>
        </div>
      </div>

      <div id="pool">
        <h4>Card pool</h4>
        <div class="card" draggable="true" data-zone="goal">Help me design a clear assignment description students can understand.</div>
        <div class="card" draggable="true" data-zone="goal">Focus on one main learning outcome instead of everything in the course.</div>

        <div class="card" draggable="true" data-zone="context">Assume students are first-year undergraduates with limited prior knowledge.</div>
        <div class="card" draggable="true" data-zone="context">This is for instructors who are revising an existing course.</div>

        <div class="card" draggable="true" data-zone="inputs">Use only the assignment details and rubric I provide.</div>
        <div class="card" draggable="true" data-zone="inputs">Do not invent new course policies or grading rules.</div>

        <div class="card" draggable="true" data-zone="boundaries">Do not fabricate citations or quotes.</div>
        <div class="card" draggable="true" data-zone="boundaries">Highlight uncertainties instead of guessing when information is missing.</div>
        <div class="card" draggable="true" data-zone="boundaries">Avoid jargon unless you also give a brief explanation.</div>
        <div class="card" draggable="true" data-zone="boundaries">Keep student examples generic and non-identifying.</div>
      </div>

      <div class="btnrow">
        <button class="btn-secondary" id="resetCards">Reset cards</button>
      </div>
    </div>

    <!-- Right: behavior & final prompt -->
    <div class="panel">
      <h3>Step 2 · Configure behavior & generate prompt</h3>
      <p class="hint">These controls simulate “settings” you might bake into a prompt, custom instruction, or custom GPT.</p>

      <div class="controls-grid">
        <div class="field-group">
          <label for="taskType">Task type</label>
          <select id="taskType">
            <option value="explain">Explanation</option>
            <option value="summarize">Summarization</option>
            <option value="brainstorm">Brainstorming / idea generation</option>
            <option value="critique">Critique / evaluation</option>
            <option value="design">Lesson or assignment design</option>
            <option value="transform">Rewrite / transform text</option>
          </select>
          <div class="small-label">What kind of cognitive work you want the model to do.</div>
        </div>

        <div class="field-group">
          <label for="outputFormat">Output format</label>
          <select id="outputFormat">
            <option value="paragraph">Single paragraph</option>
            <option value="bullets">Bulleted list with headings</option>
            <option value="steps">Step-by-step numbered list</option>
            <option value="table">Table with columns</option>
            <option value="outline">Outline with sections and subsections</option>
            <option value="rubric">Short rubric with criteria and levels</option>
          </select>
          <div class="small-label">How the answer should be structured on the page.</div>
        </div>

        <div class="field-group">
          <label for="audienceLevel">Audience level</label>
          <select id="audienceLevel">
            <option value="first-year">First-year undergraduates</option>
            <option value="advanced-undergrad">Advanced undergraduates</option>
            <option value="grad">Graduate students</option>
            <option value="faculty">Faculty colleagues</option>
            <option value="admin">Administrators / decision makers</option>
            <option value="general">General non-expert audience</option>
          </select>
          <div class="small-label">How much prior knowledge to assume.</div>
        </div>

        <div class="field-group">
          <label for="tone">Tone / voice</label>
          <select id="tone">
            <option value="student-friendly">Student-friendly and encouraging</option>
            <option value="neutral-academic">Neutral academic</option>
            <option value="formal-policy">Formal, policy-style</option>
            <option value="conversational">Conversational but professional</option>
            <option value="coaching">Coaching / mentoring tone</option>
          </select>
          <div class="small-label">How the response should “sound.”</div>
        </div>
      </div>

      <div class="field-group" style="margin-top:.7rem;">
        <label for="tempRange">Temperature (exploration vs. stability)</label>
        <div class="range-row">
          <input type="range" id="tempRange" min="0" max="2" step="1" value="1">
          <span id="tempLabel" style="font-size:.82rem;color:#374151;">Medium</span>
        </div>
        <div class="small-label">Lower = more predictable; Higher = more varied and exploratory.</div>
      </div>

      <div class="field-group" style="margin-top:.6rem;">
        <label>Behavior toggles</label>
        <div class="toggle-list">
          <label class="toggle-item">
            <input type="checkbox" id="toggleClarify" checked>
            <span>Ask 2–3 clarifying questions if the request is underspecified.</span>
          </label>
          <label class="toggle-item">
            <input type="checkbox" id="toggleExamples" checked>
            <span>Include concrete examples where helpful.</span>
          </label>
          <label class="toggle-item">
            <input type="checkbox" id="toggleConcise">
            <span>Use concise mode (no unnecessary fluff).</span>
          </label>
          <label class="toggle-item">
            <input type="checkbox" id="toggleHeadings" checked>
            <span>Organize the output with headings and bullet points.</span>
          </label>
          <label class="toggle-item">
            <input type="checkbox" id="toggleIllinois">
            <span>Use an Illinois teaching tone: inclusive, student-centered, and clear.</span>
          </label>
          <label class="toggle-item">
            <input type="checkbox" id="toggleUncertainty" checked>
            <span>Highlight uncertainties instead of guessing.</span>
          </label>
        </div>
        <div class="tag-row" id="settingsTags"></div>
      </div>

      <div class="btnrow">
        <button class="btn-primary" id="buildPrompt">Generate prompt</button>
        <button class="btn-secondary" id="clearPrompt">Clear</button>
      </div>

      <div class="output-header" style="margin-top:.7rem;">
        <h3>Copy-paste prompt</h3>
        <span class="badge">Preview only &middot; edit before use</span>
      </div>
      <textarea id="output" placeholder="Click “Generate prompt” to build a structured prompt from your current configuration."></textarea>
      <p class="note">
        This builder is a thinking tool: you still need to add course-specific details (e.g., assignment name, learning outcomes, due dates),
        but it helps you make your expectations and constraints explicit.
      </p>
    </div>
  </div>
</main>

<script>
  let dragged = null;

  // Drag & drop cards
  document.querySelectorAll('.card').forEach(card => {
    card.addEventListener('dragstart', () => {
      dragged = card;
      card.classList.add('dragging');
    });
    card.addEventListener('dragend', () => {
      dragged = null;
      card.classList.remove('dragging');
    });
  });

  [...document.querySelectorAll('.dropzone'), document.getElementById('pool')].forEach(zone => {
    zone.addEventListener('dragover', e => {
      e.preventDefault();
      if (zone.classList.contains('dropzone')) zone.classList.add('over');
    });
    zone.addEventListener('dragleave', () => zone.classList.remove('over'));
    zone.addEventListener('drop', e => {
      e.preventDefault();
      zone.classList.remove('over');
      if (dragged) zone.appendChild(dragged);
    });
  });

  // Reset cards
  document.getElementById('resetCards').onclick = () => {
    const pool = document.getElementById('pool');
    document.querySelectorAll('.card').forEach(card => pool.appendChild(card));
  };

  // Settings references
  const taskType = document.getElementById('taskType');
  const outputFormat = document.getElementById('outputFormat');
  const audienceLevel = document.getElementById('audienceLevel');
  const tone = document.getElementById('tone');
  const tempRange = document.getElementById('tempRange');
  const tempLabel = document.getElementById('tempLabel');

  const toggleClarify = document.getElementById('toggleClarify');
  const toggleExamples = document.getElementById('toggleExamples');
  const toggleConcise = document.getElementById('toggleConcise');
  const toggleHeadings = document.getElementById('toggleHeadings');
  const toggleIllinois = document.getElementById('toggleIllinois');
  const toggleUncertainty = document.getElementById('toggleUncertainty');
  const settingsTags = document.getElementById('settingsTags');
  const output = document.getElementById('output');

  function getTempLabel(value) {
    if (value === 0 || value === '0') return 'Low (stable)';
    if (value === 1 || value === '1') return 'Medium';
    return 'High (exploratory)';
  }

  function updateTempLabel() {
    tempLabel.textContent = getTempLabel(tempRange.value);
  }

  function updateTags() {
    let html = '';
    html += '<span>' + getTempLabel(tempRange.value) + '</span>';
    if (toggleClarify.checked) html += '<span>Clarifying questions</span>';
    if (toggleExamples.checked) html += '<span>Concrete examples</span>';
    if (toggleConcise.checked) html += '<span>Concise</span>';
    if (toggleHeadings.checked) html += '<span>Headings + bullets</span>';
    if (toggleIllinois.checked) html += '<span>Illinois teaching tone</span>';
    if (toggleUncertainty.checked) html += '<span>Highlight uncertainty</span>';
    settingsTags.innerHTML = html;
  }

  tempRange.addEventListener('input', () => {
    updateTempLabel();
    updateTags();
  });

  [toggleClarify, toggleExamples, toggleConcise, toggleHeadings, toggleIllinois, toggleUncertainty].forEach(cb => {
    cb.addEventListener('change', updateTags);
  });

  // Initialize tags/label
  updateTempLabel();
  updateTags();

  // Build final prompt
  function buildPrompt() {
    const zones = {
      goal: [],
      context: [],
      inputs: [],
      boundaries: []
    };

    document.querySelectorAll('.dropzone').forEach(z => {
      const type = z.dataset.zone;
      const texts = [...z.querySelectorAll('.card')].map(c => c.textContent.trim());
      zones[type] = texts;
    });

    function section(label, arr) {
      if (!arr.length) return label + '\n- (none specified)\n\n';
      return label + '\n' + arr.map(x => '- ' + x).join('\n') + '\n\n';
    }

    let tempDesc = getTempLabel(tempRange.value);
    let behaviorLines = [];

    if (toggleClarify.checked) {
      behaviorLines.push('- If the request is underspecified, ask 2–3 brief clarifying questions before answering.');
    }
    if (toggleExamples.checked) {
      behaviorLines.push('- Include at least one concrete example where it would help understanding.');
    }
    if (toggleConcise.checked) {
      behaviorLines.push('- Keep the response concise and focused on the most important points.');
    } else {
      behaviorLines.push('- Provide enough detail that a new instructor could follow your reasoning.');
    }
    if (toggleHeadings.checked) {
      behaviorLines.push('- Use clear headings and bullet points to organize the response.');
    }
    if (toggleIllinois.checked) {
      behaviorLines.push('- Use an Illinois teaching tone: inclusive, student-centered, and clear, avoiding unnecessary jargon.');
    }
    if (toggleUncertainty.checked) {
      behaviorLines.push('- When you are uncertain, say so explicitly and avoid guessing.');
    }

    const behaviorBlock = behaviorLines.length
      ? 'Behavior & style guidelines:\n' + behaviorLines.join('\n') + '\n\n'
      : '';

    const promptText =
`You are an AI assistant helping in a higher education teaching context.

High-level task type:
- ${taskType.options[taskType.selectedIndex].text}

Intended audience:
- ${audienceLevel.options[audienceLevel.selectedIndex].text}

Preferred output format:
- ${outputFormat.options[outputFormat.selectedIndex].text}

Tone / voice:
- ${tone.options[tone.selectedIndex].text}

Conceptual temperature (creativity setting):
- ${tempDesc}

${section('Task & goal details (from cards):', zones.goal)}${section('Audience & context (from cards):', zones.context)}${section('Inputs & sources (from cards):', zones.inputs)}${section('Boundaries & things to avoid (from cards):', zones.boundaries)}${behaviorBlock}When generating your response, follow the structure and constraints above. If anything is missing or conflicts, ask for clarification before proceeding.`;

    output.value = promptText.trim();
  }

  document.getElementById('buildPrompt').onclick = buildPrompt;

  document.getElementById('clearPrompt').onclick = () => {
    output.value = '';
  };
</script>
</body>
</html>
